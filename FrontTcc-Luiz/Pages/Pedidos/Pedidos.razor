@page "/pedidos"
@inject NavigationManager Navigation
@using FrontTcc_Luiz
@using FrontTcc_Luiz.ViewModels

<h2 class="text-center mt-3">🛒 Meu Carrinho</h2>

<div class="container mt-4">
    <div class="card shadow p-4" style="border-radius: 12px;">

        <h4 class="mb-3 text-primary">Produtos no Carrinho</h4>

        <!-- Você irá renderizar seus produtos aqui -->
        @if (Carrinho.Count == 0)
        {
            <p class="text-muted">Nenhum produto adicionado ainda.</p>
        }
        else
        {
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Produto</th>
                        <th>Quantidade</th>
                        <th>Preço</th>
                        <th>Total</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Carrinho)
                    {
                        <tr>
                            <td>@item.Nome</td>
                            <td>@item.Quantidade</td>
                            <td>R$ @item.Preco</td>
                            <td>R$ @(item.Preco* item.Quantidade)</td>
                        </tr>
                    }
                </tbody>
            </table>
        }

        <hr />

        <!-- Botões de ações -->
        <div class="d-flex justify-content-between mt-3">
            <button class="btn btn-primary px-4" @onclick="AdicionarProdutos">
                ➕ Adicionar Produtos
            </button>

            <div class="d-flex gap-2">
                <button class="btn btn-danger px-4" @onclick="EsvaziarCarrinho">
                    🗑 Esvaziar Carrinho
                </button>

                <button class="btn btn-success px-4" @onclick="FinalizarCompra"
                        disabled="@(Carrinho.Count == 0)">
                    ✔ Finalizar Compra
                </button>
            </div>
        </div>

    </div>
</div>

@code {
    // Modelo do item no carrinho
    public class ItemCarrinho
    {
        public string Nome { get; set; }
        public decimal Preco { get; set; }
        public int Quantidade { get; set; }
    }

    // Lista do carrinho (você vai carregar seus produtos reais aqui)
    List<ItemCarrinho> Carrinho = new List<ItemCarrinho>();

    void AdicionarProdutos()
    {
        Navigation.NavigateTo("/produtos");
    }

    void EsvaziarCarrinho()
    {
        Carrinho.Clear();
    }

    void FinalizarCompra()
    {
        // Aqui você colocará lógica de finalizar
        Console.WriteLine("Compra finalizada!");
    }


}
